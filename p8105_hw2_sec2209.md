P8105 Homework 2
================
sarah\_8105

This is my second homework assignment for P8105.

``` r
library(tidyverse)
```

    ## -- Attaching packages ------------------------------------------------------------------------------------------------------------------------ tidyverse 1.3.0 --

    ## v ggplot2 3.3.2     v purrr   0.3.4
    ## v tibble  3.0.3     v dplyr   1.0.2
    ## v tidyr   1.1.2     v stringr 1.4.0
    ## v readr   1.3.1     v forcats 0.5.0

    ## -- Conflicts --------------------------------------------------------------------------------------------------------------------------- tidyverse_conflicts() --
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
library(readr)
```

## Problem 1

The Mr. Trash Wheel data set represents trash that has been removed from
the Inner Harbor in Baltimore, Maryland by the Mr. Trash Wheel vessel.
The data set contains information on the amount of trash collected by
each dumpster by month and year, breaking down specific types of trash
items. In this first portion of the exercise, I will read and clean the
Mr. Trash Wheel data.

In this code chunk, I read in the Mr. Trash Wheel sheet, clean variable
names, omit non-data entries and rows that do not include
dumpster-specific data, and change the number of sports balls variable
to an integer.

``` r
trash_wheel_df = 
  read_excel(
    "./Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
    sheet = "Mr. Trash Wheel",
    range = cell_cols("A:N")) %>%
  janitor::clean_names() %>%
  drop_na(dumpster) %>%
  mutate(
    sports_balls = round(sports_balls),
    sports_balls = as.integer(sports_balls)
  )
```

In the next portion of the exercise, I read in the monthly precipitation
data for 2018 and 2017 from the Mr. Trash Wheel data. In this step, I
omit rows without precipitation data and create a year variable.

``` r
precipitation_18 = 
  read_excel(
    "./Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
    sheet = "2018 Precipitation",
    skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2018) %>%
  relocate(year)

precipitation_17 = 
  read_excel(
    "./Data/Trash-Wheel-Collection-Totals-8-6-19.xlsx", 
    sheet = "2017 Precipitation",
    skip = 1) %>%
  janitor::clean_names() %>%
  drop_na(month) %>%
  mutate(year = 2017) %>%
  relocate(year)
```

In the next code chunk I combine the annual precipitation over 2018 and
2017 and create a month character variable.

``` r
month_df =
  tibble(
    month = 1:12,
    month_name = month.name
  )

precipitation_df =
  bind_rows(precipitation_18, precipitation_17)

left_join(precipitation_df, month_df, by = "month")
```

    ## # A tibble: 24 x 4
    ##     year month total month_name
    ##    <dbl> <dbl> <dbl> <chr>     
    ##  1  2018     1  0.94 January   
    ##  2  2018     2  4.8  February  
    ##  3  2018     3  2.69 March     
    ##  4  2018     4  4.69 April     
    ##  5  2018     5  9.27 May       
    ##  6  2018     6  4.77 June      
    ##  7  2018     7 10.2  July      
    ##  8  2018     8  6.45 August    
    ##  9  2018     9 10.5  September 
    ## 10  2018    10  2.12 October   
    ## # ... with 14 more rows

The Mr. Trash Wheel data set contains 344 observations and 14 variables.

The resulting precipitation data set contains 24 observations and 3
variables.

## Problem 2

The next problem explores the NYC Transit data on subway station
entrances and exits.

In the following code chunk, I read in the NYC Transit data, retaining:

  - line
  - station name
  - latitude / longitude
  - routes served
  - entry
  - vending
  - entrance type
  - ADA compliance

I also convert entry from a character variable (*YES* vs. *NO*) to a
logical variable (*YES = TRUE* vs. *NO = FALSE*).

``` r
nyc_transit = read_csv(
  "./Data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(line, station_name, station_latitude, station_longitude, route1:route11, entry, vending, entrance_type, ada) %>%
  mutate(entry = ifelse(entry == "yes", TRUE, FALSE))
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_double(),
    ##   Route9 = col_double(),
    ##   Route10 = col_double(),
    ##   Route11 = col_double(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

``` r
nyc_transit
```

    ## # A tibble: 1,868 x 19
    ##    line  station_name station_latitude station_longitu~ route1 route2 route3
    ##    <chr> <chr>                   <dbl>            <dbl> <chr>  <chr>  <chr> 
    ##  1 4 Av~ 25th St                  40.7            -74.0 R      <NA>   <NA>  
    ##  2 4 Av~ 25th St                  40.7            -74.0 R      <NA>   <NA>  
    ##  3 4 Av~ 36th St                  40.7            -74.0 N      R      <NA>  
    ##  4 4 Av~ 36th St                  40.7            -74.0 N      R      <NA>  
    ##  5 4 Av~ 36th St                  40.7            -74.0 N      R      <NA>  
    ##  6 4 Av~ 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ##  7 4 Av~ 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ##  8 4 Av~ 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ##  9 4 Av~ 45th St                  40.6            -74.0 R      <NA>   <NA>  
    ## 10 4 Av~ 53rd St                  40.6            -74.0 R      <NA>   <NA>  
    ## # ... with 1,858 more rows, and 12 more variables: route4 <chr>, route5 <chr>,
    ## #   route6 <chr>, route7 <chr>, route8 <dbl>, route9 <dbl>, route10 <dbl>,
    ## #   route11 <dbl>, entry <lgl>, vending <chr>, entrance_type <chr>, ada <lgl>

The resulting data set contains 1868 observations and 19 variables.
